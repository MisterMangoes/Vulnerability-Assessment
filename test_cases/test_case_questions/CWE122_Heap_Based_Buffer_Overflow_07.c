#include <wchar.h>
#include <assert.h>

int dataArraySize = 50;

wchar_t * allocatewchar(wchar_t * data) {
	data = (wchar_t *)malloc(dataArraySize * sizeof(wchar_t));
	data[0] = L'\0';
	return data;
}

int main() {
	wchar_t * data = NULL;
	data = allocatewchar(data);
	wchar_t source[100];
	wmemset(source, L'C', 100-1);
	source[100-1] = L'\0';
	wcsncat(data, source, 100);
	wprintf(L"%ls\n", data);
	free(data);
	return 0;
}

/*
Question: Which of the following is correct?
a) A heap buffer overflow occurs at line 18
b) A null pointer dereference occurs at line 7
c) A null pointer dereference occurs at line 19
d) A stack buffer overflow occurs at line 16
*/